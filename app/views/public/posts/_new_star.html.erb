<% if @post.id === nil %>
    <div id= 'star'>
      <%= f.hidden_field :star, id: :review_star %>
    </div>

    <div id = 'post_raty'></div>
    <script>
      $(document).on('turbolinks:load', function() {
      let raty_elem = document.querySelector('#post_raty');
      raty_elem.innerHTML = ""
      let option = {
          starOn: "<%= asset_path('star-on.png') %>",
          starOff: "<%= asset_path('star-off.png') %>",
          scoreName: 'book[rate]',
        };
      raty(raty_elem,option);
     });
    </script>

<% else %>
    <div id="star_<%= post.id %>"></div>
    <script>
    $(document).on('turbolinks:load', function() {
        let raty_<%= post.id %> = document.querySelector('#star_<%= post.id %>');
        rate_<%= post.id %>.innerHTML = ""
        let option_<%= post.id %> = {
            starOn: "<%= asset_path('star-on.png') %>",
            starOff: "<%= asset_path('star-off.png') %>",
            score: "<%= post.star %>",
            readOnly: true,
          };
        raty(raty_<%= post.id %> ,option_<%= post.id %>);
    });
    </script>

<% end %>